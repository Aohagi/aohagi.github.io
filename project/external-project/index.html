<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.1.0">
  <meta name="generator" content="Hugo 0.54.0" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Abdirahman Omar Mohamoud">

  
  
  
    
  
  <meta name="description" content="An example of linking directly to an external project website using `external_link`.">

  
  <link rel="alternate" hreflang="en-us" href="/project/external-project/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#4682b4">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Aohagi">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Aohagi">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/project/external-project/">

  
  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Aohagi">
  <meta property="og:url" content="/project/external-project/">
  <meta property="og:title" content="Regression Models Course Project | Aohagi">
  <meta property="og:description" content="An example of linking directly to an external project website using `external_link`."><meta property="og:image" content="/project/external-project/featured.jpg">
  <meta property="og:locale" content="en-us">
  
  
  
  

  

  

  <title>Regression Models Course Project | Aohagi</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Aohagi</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
            
            <span>Tutorials</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#featured">
            
            <span>Courses</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#cv.pdf">
            
            <span>CV</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  













<div class="article-header d-xl-none">
  <div class="featured-image" style="background-image: url('/project/external-project/featured_hu3d03a01dcc18bc5be0e67db3d8d209a6_329522_800x0_resize_q90_lanczos.jpg');"></div>
  <span class="article-header-caption">Photo by Toa Heftiba on Unsplash</span>
</div>


<div class="container-fluid split-header d-none d-xl-block">
  <div class="row">
    <div class="col-6">
      <div class="split-header-content">
        <h1 itemprop="name">Regression Models Course Project</h1>

        

        



<meta content="" itemprop="datePublished">
<meta content="" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jan 1, 0001</time>
  </span>
  

  

  

  
  

  

  

</div>


        







  










        
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Regression%20Models%20Course%20Project&amp;url=%2fproject%2fexternal-project%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fproject%2fexternal-project%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fproject%2fexternal-project%2f&amp;title=Regression%20Models%20Course%20Project"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fproject%2fexternal-project%2f&amp;title=Regression%20Models%20Course%20Project"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Regression%20Models%20Course%20Project&amp;body=%2fproject%2fexternal-project%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


      </div>
    </div>
    <div class="col-6">
      <div class="split-header-image">
        <img src="/project/external-project/featured_hu3d03a01dcc18bc5be0e67db3d8d209a6_329522_680x500_fill_q90_lanczos_smart1.jpg" itemprop="image" alt="">
        <span class="article-header-caption">Photo by Toa Heftiba on Unsplash</span>
      </div>
    </div>
  </div>
</div>

<div class="article-container d-xl-none">
  <h1 itemprop="name">Regression Models Course Project</h1>

  

  



<meta content="" itemprop="datePublished">
<meta content="" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jan 1, 0001</time>
  </span>
  

  

  

  
  

  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Regression%20Models%20Course%20Project&amp;url=%2fproject%2fexternal-project%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fproject%2fexternal-project%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fproject%2fexternal-project%2f&amp;title=Regression%20Models%20Course%20Project"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fproject%2fexternal-project%2f&amp;title=Regression%20Models%20Course%20Project"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Regression%20Models%20Course%20Project&amp;body=%2fproject%2fexternal-project%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

  







  









</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<pre><code class="language-r">knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
</code></pre>

<pre><code class="language-r">knitr::opts_chunk$set(message = FALSE)
</code></pre>

<pre><code class="language-r">knitr::opts_chunk$set(comment = NA)
options(digits = 3)
</code></pre>

<h2 id="synopsis">Synopsis</h2>

<p>Motor Trend US, a magazine about the automobile industry, is looking at a data set of a collection of cars. They are interested in exploring the relationship between a set of variables and miles per gallon (MPG) (outcome). They are particularly interested in the following two questions:</p>

<ul>
<li>“Is an automatic or manual transmission better for MPG”</li>
<li>&ldquo;Quantify the MPG difference between automatic and manual transmissions&rdquo;</li>
</ul>

<h2 id="some-data-exploration">Some Data Exploration</h2>

<p>Here, I will explore the data and then show correlations between the outcome variable, i.e. <em>mpg</em> and the transmission variable as predictor. In the appendix, there will some further exploration displays and we will also see the correlation between the potential predictors in the dataset themselves to avoid the problem of multicollinearity.</p>

<pre><code class="language-r">## loading the mtcars dataset and showing the first view rows
data(&quot;mtcars&quot;, package = &quot;datasets&quot;)
mtcars2 &lt;- transform(mtcars, cyl = factor(cyl), am = factor(am))
row.names(mtcars2) &lt;- NULL
head(mtcars2)
</code></pre>

<pre><code class="language-r">## inspecting the structure of the dataset
str(subset(mtcars2, select = c('mpg', 'cyl', 'hp', 'am', 'qsec')))
</code></pre>

<pre><code class="language-r">## summarizing all the variables in the dataset
summary(subset(mtcars2, select = c('mpg', 'cyl', 'hp', 'am', 'qsec')))
</code></pre>

<h2 id="model-fitting">Model Fitting</h2>

<p>Now, we fit the model by using mpg as the outcome variable and transimission as our only predictor.</p>

<pre><code class="language-r">## fitting the model with only one predictor
fit0 &lt;- lm(mpg ~ am, data = mtcars2)
summary(fit0)$coef
</code></pre>

<h3 id="interpreting-the-model-output">Interpreting the Model Output</h3>

<p>The intercept says that the average miles per gallon of an automatic automobile is <code>r coef(summary(fit0))[1]</code> and our slope shows the mean difference of the two transmissions. That means, on average, the <em>mpg</em>  of manual automobiles are <code>r summary(fit0)$coef[2]</code> more than automatic ones. However, the variation in the <em>mpg</em> that is explained by <em>transmission</em> is just 36%. So, this suggests we may need adjusting other variables for better modeling and prediction capabilities.</p>

<h2 id="model-selection">Model Selection</h2>

<p>There are many model selection techniques but here are the two I preferred to apply.</p>

<h3 id="1-backward-selection">1. Backward Selection</h3>

<pre><code class="language-r">## backward selection; we use the full model and it will remove the unnecessary ones
fit.full &lt;- lm(mpg ~ ., data = mtcars2)
step(fit.full, direction = &quot;backward&quot;)
</code></pre>

<p>Backward selection produces just 3 out 10 variables for the model, They are transmission, weight and quarter mile time. These are going to be those I will use to fit the model.</p>

<h3 id="2-best-subset-regression">2. Best Subset Regression</h3>

<pre><code class="language-r">## loading leaps
library(leaps)
predictors_df &lt;- subset(mtcars, select = -1)
regsubsetsObj &lt;- regsubsets(x = predictors_df, y = mtcars$mpg, nbest = 1, really.big = T)
plot(regsubsetsObj, scale = &quot;Cp&quot;)  # regsubsets plot based on Cp
abline(h = 8, col = &quot;red&quot;, lwd = 3)
</code></pre>

<p>It&rsquo;s worth mentioning that this technique also outputs the same three variables. This is shown by the red horizontal line that touches the black bars corresponding to the three variables; i.e. am, wt and qsec.</p>

<h2 id="fitting-our-new-model">Fitting Our New Model</h2>

<pre><code class="language-r">## fitting the model with transmission, weight and quarter mile time variables
fit1 &lt;- lm(mpg ~ am + wt + qsec, data = mtcars2)
summary(fit1)$coef
</code></pre>

<p>Now, after we adjusted the model for weight and quarter mile time, we see that the slope coefficient changed its sign to negative. This means, on average, the manual automobiles have 2.94 mpg more than the automatics keeping the weight and quarter mile time constant. We also found as the weight increases by 1000 lbs we expect the mpg to decrease by 5.35 keeping transmission and qsec constant. All p-values for the three variables are less 0.05, this is a good indication that they are all important for the model. Moreover, the new model with am, wt and qsec variables as predictors explains 83% of the variation in the outcome variable; mpg.</p>

<h3 id="getting-confidence-interval-for-the-parameters">Getting Confidence Interval for the Parameters</h3>

<pre><code class="language-r">## the 95th confidence interval
confint(fit1, level=0.95)
</code></pre>

<p>The output says that we are 95% confident that manual transmission is better for mpg and the expected mpg is between 0.04 to 5.83, when using manual transmission.</p>

<h3 id="model-comparison-using-anova">Model Comparison Using Anova</h3>

<pre><code class="language-r">## checking if our new model is the better that the old one with just transmission as predictor
## using anova for nested models
cat(&quot;The P-value is:&quot;, anova(fit0, fit1)$&quot;Pr(&gt;F)&quot;[2])
</code></pre>

<p>The anova output gives us a p-value much smaller than the typical benchmark of type I error, i.e. 0.05. We can conclude that the new model better fits the data and adding weight and quarter mile time improves it&rsquo;s quality.</p>

<h2 id="evaluating-the-assumptions-of-multiple-regression">Evaluating the Assumptions of Multiple Regression</h2>

<pre><code class="language-r">## ploting the residuals
par(mfrow = c(2, 2))
plot(fit1)
</code></pre>

<p>As shown above, there is no serious concern on assumptions violation. We can see the residual are almost normally distributed and there is no distinc pattern on residuals. The homoscedasticity assumption is also met as the residual variations seems to be constant around the mean. The residuals vs leverage plot shows that there are no potential outliers because all observation are within the cook&rsquo;s distance.</p>

<h3 id="checking-multicollinearity">Checking Multicollinearity</h3>

<pre><code class="language-r">## using the car package for vif
car::vif(fit1)
</code></pre>

<p>Variance Inflation Factors <strong>(vif)</strong> is pretty less than the threshold of 10 for all the three variable: am, wt and qsec. This assures that the predictors in the model don&rsquo;t seem to be correlated themselves.</p>

<h2 id="residual-diagnostics">Residual Diagnostics</h2>

<p>Here, we will be performing some residual diagnostics and see if there are obsevations that have leverage and influence.</p>

<pre><code class="language-r">## depicting dfbetas, dffits, and cook's distance 
par(mfrow = c(3, 2))
plot(dffits(fit1))
plot(dfbetas(fit1)[,2])
plot(dfbetas(fit1)[,3])
plot(dfbetas(fit1)[,4])
plot(cooks.distance(fit1))
</code></pre>

<p>Using dfbetas, dffits, and cook&rsquo;s distance for residual diagnostics, It doesn&rsquo;t seem that observations from transmission and weight variables have higher leverage or influence than others, so adding or removing some observations may not produce noticeable difference in our response or coefficients. However, in the quarter mile time observations, there is a point that is not well with the range of the other points and it&rsquo;s possible it could be influential.</p>

<h2 id="appendix">Appendix</h2>

<p>Finally, the appendix of this report shows some exploratory graphs like correlation matrix.</p>

<pre><code class="language-r">## loading the corrplot packages for visualizing the correlation matrix
library(corrplot)
corr &lt;- cor(mtcars)
corrplot(corr)
</code></pre>

<pre><code class="language-r">library(ggplot2)
g1 &lt;- ggplot(mtcars2, aes(x = am, y = mpg)) + geom_boxplot(col = &quot;blue&quot;, fill = &quot;lightgreen&quot;) +
                                                        geom_point() + theme_bw()
g2 &lt;- ggplot(mtcars2, aes(x = cyl, y = mpg, fill = cyl)) + geom_col(width = 0.6) +
                                                                facet_grid(am ~ .) + theme_bw()
</code></pre>

<p>```{r fig.width=6, fig.height=3}
library(gridExtra)
grid.arrange(g1, g2, ncol= 2)</p>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/peer-graded-assignment/">Peer-graded Assignment</a>
  
</div>



    






  








    
    

    
    
    

    
    
    

    
    
    

  </div>
</article>



<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    &copy; Aohagi 2019 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d7381f2d79e6271d4da28f474f49096c.js"></script>

  </body>
</html>

